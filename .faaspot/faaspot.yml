# timeout should be a multiple of 30 and maximum of 300


logo: 'https://www.themoviedb.org/assets/static_cache/2dceae11589334eecd61443249261daf/images/v4/logos/208x226-stacked-green.png'
description: >
    Ajv stands for Another JSON Schema Validator\n
    The fastest JSON Schema validator.\n
    Sooner or later, even with the most schemaless of architectures, 
    you're going to need to validate some JSON passed to you by a user. 
    And when that time comes, you'll want to use the fastest library out there.
functions:
    validateSchema:
        runtime: nodejs8.3
        handler: wrapper.mainValidateSchema
        description: Validate schema propriety
        memory: 256
        timeout: 30                 
        properties:            
            schema:
                description: The schema to validate                
                type: string  
                required: true              
                minLength: 1                
                maxLength: 1024
            draft:
                description: Test json-schema draft to use (default is latest)
                type: number                  
                minimum: 4               
                maximum: 7
        samples:
            -   args: 
                    schema: 
                        type: object
                        $schema: http://json-schema.org/draft-04/schema#
                        id: http://json-schema.org/draft-04/schema#
                        properties: 
                            bar: 
                                maximum: 3
                                type: number
                            foo: 
                                type: string
                    draft: 4                                    
                name: Good schema sample
            -   args: 
                    schema: 
                        type: object
                        $schema: http://json-schema.org/draft-04/schema#
                        id: http://json-schema.org/draft-04/schema#
                        properties: 
                            bar: 
                                maximum: 3
                                type: number
                            foo: 
                                type: string
                    draft: 6                                            
                name: Bad schema version sample
    validate:
        runtime: nodejs8.3
        handler: wrapper.main
        description: Validate data based on schema
        memory: 256
        timeout: 30                
        properties:            
            schema:
                description: The schema
                type: string  
                required: true              
                minLength: 1                
                maxLength: 1024
            data:
                description: The data to validate                
                type: string  
                required: true              
                minLength: 1                
                maxLength: 1024
            draft:
                description: Test json-schema draft to use (default is latest)
                type: number                  
                minimum: 4               
                maximum: 7 
        samples:
            -   args: 
                    data: 
                        bar: 3
                        foo: abc
                    schema: 
                        properties: 
                            bar: 
                                maximum: 3
                                type: number
                            foo: 
                                type: string
                        required: 
                            - foo
                            - bar
                name: Good data sample
            -   args: 
                    data: 
                        bar: xy
                        foo: abc
                    schema: 
                        properties: 
                            bar: 
                                maximum: 3
                                type: number
                            foo: 
                                type: string
                        required: 
                            - foo
                            - bar
                name: Bad data sample
            -   args: 
                    data: 
                        bar: 
                            - a
                            - b
                        foo: 12
                    draft: 6
                    schema: 
                        properties: 
                            bar: 
                                type: array
                                maxItems: 3
                                contains:
                                    type: integer                                                                    
                            foo: 
                                type: number
                name: Bad input since draft-06
            
